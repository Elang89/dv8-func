# DV8 Question 3
There are some small questions that need you to share your thoughts. Attach your answers directly below each small question below:

## 1. Where to save this data? 
DV8's edge devices send data of each pumping cycle to the cloud as byte arrays. For each cycle, floats like `well ID`, `timestamp`, `gas rate` or `fluid rate` etc., takes less than 3% of the whole payload. Over 97% of the payload are actually the high resolution inclinometer and loadcell samples that are used to draw pump cards. Those samples are encoded as two arrays of floats. We save the whole payload of each pumping cycle from each well to Cosmos DB hosted by Azure, but that is too expensive. We accumulated several TB of data within a very short time and that cost thousands dollars each month. What you think we can do on the cloud side, **to save more money, without making much compromise to the performance and loosing data integrity**? 

At this point it is difficult to deal with that sort of issue, because you've already tied yourself to CosmosDB, unfortunately many of these proprietary databases come with gotchas, for instance, since you are tied to CosmosDB your solution is now tied to Azure, it will be difficult to untangle yourself from them as a result if you were ever too chose to go to another cloud provider. Regardless of that, it is not impossible to move out of this model, it will take some time to do so, but CosmosDB is part of a family of DBs that are commonly used for these tasks. For instance Cassandra and Mongo are other options that could be taken into consideration. Both of them are available on Azure and can be easily set up for use with anything that maybe needed. This [website](https://db-engines.com/en/system/Cassandra%3BMicrosoft+Azure+Cosmos+DB%3BMongoDB) gives an overview of the three databases, their weak points and strong points.

As a matter of fact if it is necessary there are ways to move from CosmosDB to Mongo with relative ease for example. See [here](https://www.mongodb.com/developer/products/atlas/migrate-azure-cosmosdb-mongodb-atlas-apache-kafka/) for more information.

## 2. How to use IP cameras?
If the customers ask us to mount an IP camera to a well so that they can see the well images remotely, **in what way can we transmit the images captured by the camera to Azure** and make it visible to the customers? Assume many users may view the images of a single well at the same time. Note that our edge devices are running Linux and connect to the cloud via Azure IoT Hubs.

The best way to do this is to run a dedicated server for streaming. [Ant Media Server](https://antmedia.io/) can accomplish this. It is a video streaming server created specifically to manage streams and provide a portal that can allow multiple clients and users to connect and forward their streams on their own end. 

## 3. What if edge devices are within private network?
Many cellular carriers are providing solutions to bound all edge devices of a company in its private network so that it is much more secure. **What changes do you think we need to apply on Azure if we are going to migrate all our edge devices to a private APN**? 

First a private endpoint towards IoT Edge might be necessary in order to ensure all devices are secured and inaccessible from the internet. This endpoint must be created within the same region as the IoT hub to ensure that everything works correctly. In addition to that, several other security components can be added, like demanding authentication from autorized applications by using OAuth and working with Azure's security implementations through the use of IAM and its other authentication mechanisms. 